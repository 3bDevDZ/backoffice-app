#!/usr/bin/env python
"""
Robust script to fill ALL missing translations using babel.messages.pofile.
Reads messages.pot and fills every empty msgstr in French and Arabic .po files.
"""
import os
from pathlib import Path
from babel.messages.pofile import read_po, write_po

# MASSIVE comprehensive translation dictionary
COMPLETE_TRANSLATIONS = {
    'fr': {
        # Module names and descriptions
        'Customers': 'Clients',
        'Manage customer database and information': 'Gérer la base de données et les informations clients',
        'Quotes': 'Devis',
        'Create and manage sales quotes': 'Créer et gérer les devis de vente',
        'Orders': 'Commandes',
        'Manage sales orders and fulfillment': 'Gérer les commandes de vente et leur exécution',
        'Promotions': 'Promotions',
        'Manage promotional campaigns and discounts': 'Gérer les campagnes promotionnelles et les remises',
        'Invoices': 'Factures',
        'Generate and manage customer invoices': 'Générer et gérer les factures clients',
        'Payments': 'Paiements',
        'Record payments and manage collections': 'Enregistrer les paiements et gérer les recouvrements',
        'Payments Dashboard': 'Tableau de bord des paiements',
        'View payment KPIs and aging reports': 'Voir les KPI de paiement et les rapports de vieillissement',
        'Sales': 'Ventes',
        'Manage your sales process from quotes to payments': 'Gérez votre processus de vente des devis aux paiements',
        'Suppliers': 'Fournisseurs',
        'Manage supplier database and information': 'Gérer la base de données et les informations fournisseurs',
        'Purchase Requests': 'Demandes d\'achat',
        'Create and manage purchase requests': 'Créer et gérer les demandes d\'achat',
        'Purchase Orders': 'Ordres d\'achat',
        'Manage purchase orders from suppliers': 'Gérer les ordres d\'achat des fournisseurs',
        'Purchase Receipts': 'Bons de réception',
        'Record goods received from suppliers': 'Enregistrer les marchandises reçues des fournisseurs',
        'Supplier Invoices': 'Factures fournisseurs',
        'Process and match supplier invoices': 'Traiter et apparier les factures fournisseurs',
        'Purchases': 'Achats',
        'Manage your complete purchase cycle from requests to invoices': 'Gérez votre cycle d\'achat complet des demandes aux factures',
        'Stock Overview': 'Vue d\'ensemble du stock',
        'View current stock levels and availability': 'Voir les niveaux de stock actuels et la disponibilité',
        'Sites': 'Sites',
        'Manage warehouse sites and locations': 'Gérer les sites et emplacements d\'entrepôt',
        'Warehouses': 'Entrepôts',
        'Manage warehouse locations structure': 'Gérer la structure des emplacements d\'entrepôt',
        'Stock Transfers': 'Transferts de stock',
        'Transfer stock between sites': 'Transférer le stock entre sites',
        'Stock Movements': 'Mouvements de stock',
        'View and track stock movements history': 'Voir et suivre l\'historique des mouvements de stock',
        'Stock Alerts': 'Alertes de stock',
        'Monitor low stock and reorder alerts': 'Surveiller les alertes de stock faible et de réapprovisionnement',
        'Inventory': 'Inventaire',
        'Manage stock levels, locations, and movements': 'Gérer les niveaux de stock, les emplacements et les mouvements',
        'Products': 'Produits',
        'Manage product catalog and variants': 'Gérer le catalogue de produits et les variantes',
        'Price Lists': 'Listes de prix',
        'Create and manage pricing lists': 'Créer et gérer les listes de prix',
        'Catalog': 'Catalogue',
        'Manage your product catalog and pricing': 'Gérez votre catalogue de produits et vos prix',
        'Dashboard': 'Tableau de bord',
        'Modules': 'Modules',
        'Settings': 'Paramètres',
        
        # Common UI elements
        'CommerceFlow': 'CommerceFlow',
        'Back to Modules': 'Retour aux modules',
        'SALES': 'VENTES',
        'PURCHASES': 'ACHATS',
        'INVENTORY': 'INVENTAIRE',
        'Stock': 'Stock',
        'Transfers': 'Transferts',
        'Movements': 'Mouvements',
        'Alerts': 'Alertes',
        'CATALOG': 'CATALOGUE',
        
        # Auth
        'Login': 'Connexion',
        'Commercial Management System': 'Système de gestion commerciale',
        'Username': 'Nom d\'utilisateur',
        'Enter your username': 'Entrez votre nom d\'utilisateur',
        'Password': 'Mot de passe',
        'Remember me': 'Se souvenir de moi',
        'Forgot password?': 'Mot de passe oublié ?',
        'Sign in': 'Se connecter',
        'or': 'ou',
        'Continue with Microsoft': 'Continuer avec Microsoft',
        'Version 1.0': 'Version 1.0',
        
        # Billing - Add more as needed
        'Aging Report': 'Rapport de vieillissement',
        'Outstanding invoices by aging buckets': 'Factures impayées par tranches de vieillissement',
        'All Customers': 'Tous les clients',
        'Include Paid': 'Inclure les payées',
        'Generate Report': 'Générer le rapport',
        'Total Outstanding': 'Total impayé',
        'days': 'jours',
        'invoices': 'factures',
        'Invoice': 'Facture',
        'Due Date': 'Date d\'échéance',
        'Remaining': 'Restant',
        'Days Overdue': 'Jours de retard',
        'No outstanding invoices found': 'Aucune facture impayée trouvée',
        'Create Invoice': 'Créer une facture',
        'Create invoice from order': 'Créer une facture à partir d\'une commande',
        'Order Information': 'Informations de commande',
        'Order Number': 'Numéro de commande',
        'Invoice Details': 'Détails de la facture',
        'Invoice Date': 'Date de facture',
        'Document Discount (%)': 'Remise document (%)',
        'Invoice Lines': 'Lignes de facture',
        'Quantity Delivered': 'Quantité livrée',
        'Quantity Invoiced': 'Quantité facturée',
        'To Invoice': 'À facturer',
        'Invoice details and management': 'Détails et gestion de la facture',
        'Send Email': 'Envoyer un email',
        'Order': 'Commande',
        'TVA': 'TVA',
        'Variant': 'Variante',
        'Paid': 'Payé',
        'Credit Notes': 'Avoirs',
        'Back to list': 'Retour à la liste',
        'Create Credit Note': 'Créer un avoir',
        'Manage and track all invoices': 'Gérer et suivre toutes les factures',
        'Validated': 'Validé',
        'Partially Paid': 'Partiellement payé',
        'Canceled': 'Annulé',
        'Search by number, customer...': 'Rechercher par numéro, client...',
        'Export FEC': 'Exporter FEC',
        'No invoices found': 'Aucune facture trouvée',
        'Overdue Invoices': 'Factures en retard',
        'Track invoices that are past due date': 'Suivre les factures dont la date d\'échéance est dépassée',
        'Minimum days overdue': 'Jours de retard minimum',
        'No overdue invoices found': 'Aucune facture en retard trouvée',
        'Create Payment': 'Créer un paiement',
        'Record a new customer payment': 'Enregistrer un nouveau paiement client',
        'Payment Information': 'Informations de paiement',
        'Select Customer': 'Sélectionner un client',
        'Total Outstanding:': 'Total impayé :',
        'Payment Method': 'Méthode de paiement',
        'Select Method': 'Sélectionner une méthode',
        'Cash': 'Espèces',
        'Check': 'Chèque',
        'Bank Transfer': 'Virement bancaire',
        'Credit Card': 'Carte de crédit',
        'Debit Card': 'Carte de débit',
        'PayPal': 'PayPal',
        'Other': 'Autre',
        'Payment Date': 'Date de paiement',
        'Value Date': 'Date de valeur',
        'Check number, transfer reference, etc.': 'Numéro de chèque, référence de virement, etc.',
        'Enable Automatic Allocation': 'Activer l\'allocation automatique',
        'Allocation Strategy': 'Stratégie d\'allocation',
        'FIFO (First In First Out) - Pay oldest invoices first': 'FIFO (Premier entré, premier sorti) - Payer les factures les plus anciennes en premier',
        'Proportional - Distribute proportionally to all unpaid invoices': 'Proportionnel - Distribuer proportionnellement à toutes les factures impayées',
        'The payment will be automatically allocated to unpaid invoices according to the selected strategy.': 'Le paiement sera automatiquement alloué aux factures impayées selon la stratégie sélectionnée.',
        'Allocate to Invoices (Optional)': 'Allouer aux factures (Optionnel)',
        'No overdue invoices available for allocation': 'Aucune facture en retard disponible pour l\'allocation',
        'Add Invoice Allocation': 'Ajouter une allocation de facture',
        'Select a customer...': 'Sélectionner un client...',
        'Select Invoice': 'Sélectionner une facture',
        'days overdue': 'jours de retard',
        'Payment': 'Paiement',
        'Payment details and allocations': 'Détails et allocations de paiement',
        'Reconciled': 'Rapproché',
        'Confirm Payment': 'Confirmer le paiement',
        'Back to List': 'Retour à la liste',
        'Bank Reference': 'Référence bancaire',
        'Total Allocated': 'Total alloué',
        'Unallocated Amount': 'Montant non alloué',
        'Invoice Allocations': 'Allocations de factures',
        'Add Allocation': 'Ajouter une allocation',
        'Invoice Number': 'Numéro de facture',
        'Allocated Amount': 'Montant alloué',
        'No allocations yet': 'Aucune allocation pour le moment',
        'Allocate to Invoice': 'Allouer à la facture',
        'Add Another Invoice': 'Ajouter une autre facture',
        'Save Allocations': 'Enregistrer les allocations',
        'Outstanding payments overview and analytics': 'Vue d\'ensemble et analyses des paiements impayés',
        
        # Success/Error messages - Add more as needed
        'Payment allocated successfully': 'Paiement alloué avec succès',
        'Bank account and statement date are required': 'Le compte bancaire et la date de relevé sont requis',
        'Bank statement imported: %(matched)s matched, %(unmatched)s unmatched': 'Relevé bancaire importé : %(matched)s correspondances, %(unmatched)s non correspondances',
        'Payment ID and bank reference are required': 'L\'ID de paiement et la référence bancaire sont requis',
        'Payment reconciled successfully': 'Paiement rapproché avec succès',
        'Failed to update customer: {}': 'Échec de la mise à jour du client : {}',
        'Product not found': 'Produit non trouvé',
        'Product created successfully': 'Produit créé avec succès',
        'Failed to create product: {}': 'Échec de la création du produit : {}',
        'Product updated successfully': 'Produit mis à jour avec succès',
        'Product deleted successfully': 'Produit supprimé avec succès',
        'Product archived successfully': 'Produit archivé avec succès',
        'Product activated successfully': 'Produit activé avec succès',
        'Product deactivated successfully': 'Produit désactivé avec succès',
        'Category not found': 'Catégorie non trouvée',
        'Category created successfully': 'Catégorie créée avec succès',
        'Failed to create category: {}': 'Échec de la création de la catégorie : {}',
        'Category updated successfully': 'Catégorie mise à jour avec succès',
        'Unsupported file format. Please use CSV or Excel files.': 'Format de fichier non pris en charge. Veuillez utiliser des fichiers CSV ou Excel.',
        'Variant created successfully': 'Variante créée avec succès',
        'Failed to create variant: {}': 'Échec de la création de la variante : {}',
        'Variant not found': 'Variante non trouvée',
        'Variant updated successfully': 'Variante mise à jour avec succès',
        'Variant deleted successfully': 'Variante supprimée avec succès',
        'Failed to delete variant: {}': 'Échec de la suppression de la variante : {}',
        'Variant archived successfully': 'Variante archivée avec succès',
        'Failed to archive variant: {}': 'Échec de l\'archivage de la variante : {}',
        'Variant activated successfully': 'Variante activée avec succès',
        'Failed to activate variant: {}': 'Échec de l\'activation de la variante : {}',
        'Request body is required': 'Le corps de la requête est requis',
        'Price list created successfully': 'Liste de prix créée avec succès',
        'Price list not found': 'Liste de prix non trouvée',
        'Price list updated successfully': 'Liste de prix mise à jour avec succès',
        'Price list deleted successfully': 'Liste de prix supprimée avec succès',
        'Volume pricing tier deleted successfully': 'Niveau de prix volume supprimé avec succès',
        'product_id is required': 'product_id est requis',
        'price is required': 'price est requis',
        'Product added to price list successfully': 'Produit ajouté à la liste de prix avec succès',
        'Product price updated successfully': 'Prix du produit mis à jour avec succès',
        'Product removed from price list successfully': 'Produit retiré de la liste de prix avec succès',
        'Supplier not found': 'Fournisseur non trouvé',
        'Supplier created successfully': 'Fournisseur créé avec succès',
        'Failed to create supplier: {}': 'Échec de la création du fournisseur : {}',
        'Supplier updated successfully': 'Fournisseur mis à jour avec succès',
        'Supplier archived successfully': 'Fournisseur archivé avec succès',
        'Supplier activated successfully': 'Fournisseur activé avec succès',
        'Supplier deactivated successfully': 'Fournisseur désactivé avec succès',
        'Purchase order not found': 'Ordre d\'achat non trouvé',
        'Authentication required': 'Authentification requise',
        'Purchase order created successfully': 'Ordre d\'achat créé avec succès',
        'Failed to create purchase order: {}': 'Échec de la création de l\'ordre d\'achat : {}',
        'Purchase order updated successfully': 'Ordre d\'achat mis à jour avec succès',
        'Purchase order confirmed successfully': 'Ordre d\'achat confirmé avec succès',
        'Failed to confirm purchase order: {}': 'Échec de la confirmation de l\'ordre d\'achat : {}',
        'Purchase order cancelled successfully': 'Ordre d\'achat annulé avec succès',
        'Failed to cancel purchase order: {}': 'Échec de l\'annulation de l\'ordre d\'achat : {}',
        'Line added successfully': 'Ligne ajoutée avec succès',
        'Failed to add line: {}': 'Échec de l\'ajout de la ligne : {}',
        'Line updated successfully': 'Ligne mise à jour avec succès',
        'Failed to update line: {}': 'Échec de la mise à jour de la ligne : {}',
        'Line removed successfully': 'Ligne supprimée avec succès',
        'Failed to remove line: {}': 'Échec de la suppression de la ligne : {}',
        'Quote not found': 'Devis non trouvé',
        'Invalid request parameters: %(error)s': 'Paramètres de requête invalides : %(error)s',
        'Invalid request: %(error)s': 'Requête invalide : %(error)s',
        'Customer ID is required': 'L\'ID client est requis',
        'Resource not found: %(error)s': 'Ressource non trouvée : %(error)s',
        'Invalid operation: %(error)s': 'Opération invalide : %(error)s',
        'product_id and customer_id are required': 'product_id et customer_id sont requis',
        'Order not found': 'Commande non trouvée',
        'Status is required': 'Le statut est requis',
        'Order or line not found': 'Commande ou ligne non trouvée',
        'An error occurred while retrieving stock levels: %(error)s': 'Une erreur s\'est produite lors de la récupération des niveaux de stock : %(error)s',
        'Stock item not found': 'Article de stock non trouvé',
        'An error occurred while retrieving stock item: %(error)s': 'Une erreur s\'est produite lors de la récupération de l\'article de stock : %(error)s',
        'An error occurred while retrieving stock alerts: %(error)s': 'Une erreur s\'est produite lors de la récupération des alertes de stock : %(error)s',
        'An error occurred while retrieving stock movements: %(error)s': 'Une erreur s\'est produite lors de la récupération des mouvements de stock : %(error)s',
        'Authentication required. Please log in to perform this action.': 'Authentification requise. Veuillez vous connecter pour effectuer cette action.',
        'Stock movement created successfully': 'Mouvement de stock créé avec succès',
        'Insufficient stock: %(error)s': 'Stock insuffisant : %(error)s',
        'An error occurred while creating stock movement: %(error)s': 'Une erreur s\'est produite lors de la création du mouvement de stock : %(error)s',
        'An error occurred while retrieving locations: %(error)s': 'Une erreur s\'est produite lors de la récupération des emplacements : %(error)s',
        'Location not found': 'Emplacement non trouvé',
        'An error occurred while retrieving location: %(error)s': 'Une erreur s\'est produite lors de la récupération de l\'emplacement : %(error)s',
        'A location with this code already exists': 'Un emplacement avec ce code existe déjà',
        'Parent location not found': 'Emplacement parent non trouvé',
        'An error occurred while creating location: %(error)s': 'Une erreur s\'est produite lors de la création de l\'emplacement : %(error)s',
        'An error occurred while updating location: %(error)s': 'Une erreur s\'est produite lors de la mise à jour de l\'emplacement : %(error)s',
        'Stock reserved successfully': 'Stock réservé avec succès',
        'Insufficient available stock: %(error)s': 'Stock disponible insuffisant : %(error)s',
        'An error occurred while reserving stock: %(error)s': 'Une erreur s\'est produite lors de la réservation du stock : %(error)s',
        'Stock released successfully': 'Stock libéré avec succès',
        'An error occurred while releasing stock: %(error)s': 'Une erreur s\'est produite lors de la libération du stock : %(error)s',
        'Stock adjusted successfully': 'Stock ajusté avec succès',
        'Invalid adjustment: %(error)s': 'Ajustement invalide : %(error)s',
        'An error occurred while adjusting stock: %(error)s': 'Une erreur s\'est produite lors de l\'ajustement du stock : %(error)s',
        'Username and password are required': 'Le nom d\'utilisateur et le mot de passe sont requis',
        'User not found': 'Utilisateur non trouvé',
        'Login failed. Please try again.': 'Échec de la connexion. Veuillez réessayer.',
        'You have been logged out successfully': 'Vous avez été déconnecté avec succès',
        'Order ID is required': 'L\'ID de commande est requis',
        'Order must be delivered before creating invoice': 'La commande doit être livrée avant de créer une facture',
        'An invoice already exists for this order: %(number)s': 'Une facture existe déjà pour cette commande : %(number)s',
        'Invoice created successfully': 'Facture créée avec succès',
        'Invoice validated successfully': 'Facture validée avec succès',
        'Customer email not found': 'Email client non trouvé',
        'Invoice sent successfully': 'Facture envoyée avec succès',
        'Failed to send invoice email': 'Échec de l\'envoi de l\'email de facture',
        'Reason is required for credit note': 'La raison est requise pour l\'avoir',
        'Credit note amount must be greater than 0': 'Le montant de l\'avoir doit être supérieur à 0',
        'Credit note created successfully': 'Avoir créé avec succès',
        'Payment created successfully': 'Paiement créé avec succès',
        'Payment confirmed successfully': 'Paiement confirmé avec succès',
        'No valid allocations provided': 'Aucune allocation valide fournie',
        'Failed to create purchase order: handler returned None': 'Échec de la création de l\'ordre d\'achat : le gestionnaire a renvoyé None',
        'Failed to create purchase order: no ID returned': 'Échec de la création de l\'ordre d\'achat : aucun ID renvoyé',
        'Cannot create purchase order: %(error)s': 'Impossible de créer l\'ordre d\'achat : %(error)s',
        'Cannot update purchase order: %(error)s': 'Impossible de mettre à jour l\'ordre d\'achat : %(error)s',
        'Cannot confirm purchase order: %(error)s': 'Impossible de confirmer l\'ordre d\'achat : %(error)s',
        'Cannot cancel purchase order: %(error)s': 'Impossible d\'annuler l\'ordre d\'achat : %(error)s',
        'Purchase request created successfully': 'Demande d\'achat créée avec succès',
        'Purchase request not found': 'Demande d\'achat non trouvée',
        'Purchase request submitted for approval': 'Demande d\'achat soumise pour approbation',
        'Purchase request approved': 'Demande d\'achat approuvée',
        'Rejection reason is required': 'La raison du rejet est requise',
        'Purchase request rejected': 'Demande d\'achat rejetée',
        'Purchase request converted to purchase order': 'Demande d\'achat convertie en ordre d\'achat',
        'Purchase order is required': 'L\'ordre d\'achat est requis',
        'Purchase receipt created successfully': 'Bon de réception créé avec succès',
        'Cannot create receipt for purchase order in status "%(status)s". Order must be confirmed, sent, or partially received.': 'Impossible de créer un bon de réception pour l\'ordre d\'achat avec le statut "%(status)s". La commande doit être confirmée, envoyée ou partiellement reçue.',
        'Purchase receipt validated. Stock has been updated.': 'Bon de réception validé. Le stock a été mis à jour.',
        'Can only create invoice from validated receipts': 'Ne peut créer une facture qu\'à partir de bons de réception validés',
        'Invoice number is required': 'Le numéro de facture est requis',
        'Failed to create supplier invoice. Please try again.': 'Échec de la création de la facture fournisseur. Veuillez réessayer.',
        'Supplier invoice created and matched successfully with PO and receipt': 'Facture fournisseur créée et appariée avec succès avec l\'ordre d\'achat et le bon de réception',
        'Invalid invoice date': 'Date de facture invalide',
        'Supplier invoice not found': 'Facture fournisseur non trouvée',
        'Invoice matched successfully with PO and receipt': 'Facture appariée avec succès avec l\'ordre d\'achat et le bon de réception',
        'Invoice partially matched. Please review discrepancies.': 'Facture partiellement appariée. Veuillez examiner les écarts.',
        'Invoice matching completed with warnings': 'Appariement de facture terminé avec des avertissements',
        'Only draft quotes can be edited. Creating a new version...': 'Seuls les devis en brouillon peuvent être modifiés. Création d\'une nouvelle version...',
        'Quote updated successfully': 'Devis mis à jour avec succès',
        'Quote created successfully': 'Devis créé avec succès',
        'Quote sent successfully': 'Devis envoyé avec succès',
        'Quote accepted successfully': 'Devis accepté avec succès',
        'Quote rejected': 'Devis rejeté',
        'Quote deleted successfully': 'Devis supprimé avec succès',
        'Quote must be accepted before creating an order': 'Le devis doit être accepté avant de créer une commande',
        'Error generating PDF: %(error)s': 'Erreur lors de la génération du PDF : %(error)s',
        'Only draft orders can be edited': 'Seules les commandes en brouillon peuvent être modifiées',
        'Order updated successfully': 'Commande mise à jour avec succès',
        'Customer is required': 'Le client est requis',
        'Order created successfully': 'Commande créée avec succès',
        'Only draft orders can be confirmed. Current status: %(status)s': 'Seules les commandes en brouillon peuvent être confirmées. Statut actuel : %(status)s',
        'Cannot confirm order without lines. Please add at least one line to the order.': 'Impossible de confirmer une commande sans lignes. Veuillez ajouter au moins une ligne à la commande.',
        'Order confirmed successfully. Stock has been reserved.': 'Commande confirmée avec succès. Le stock a été réservé.',
        'An error occurred while confirming the order: %(error)s': 'Une erreur s\'est produite lors de la confirmation de la commande : %(error)s',
        'Order canceled successfully. Reserved stock has been released.': 'Commande annulée avec succès. Le stock réservé a été libéré.',
        'Order status updated successfully': 'Statut de la commande mis à jour avec succès',
        'Company settings updated successfully': 'Paramètres de l\'entreprise mis à jour avec succès',
        'Application settings updated successfully': 'Paramètres de l\'application mis à jour avec succès',
        'Cannot delete location with child locations': 'Impossible de supprimer un emplacement avec des emplacements enfants',
        'Cannot delete location with stock items': 'Impossible de supprimer un emplacement avec des articles de stock',
        'Location deleted successfully': 'Emplacement supprimé avec succès',
        'Site not found': 'Site non trouvé',
        'Site created successfully': 'Site créé avec succès',
        'Cannot create site: %(error)s': 'Impossible de créer le site : %(error)s',
        'Site updated successfully': 'Site mis à jour avec succès',
        'Cannot update site: %(error)s': 'Impossible de mettre à jour le site : %(error)s',
        'Site deactivated successfully': 'Site désactivé avec succès',
        'Cannot deactivate site: %(error)s': 'Impossible de désactiver le site : %(error)s',
        'Stock transfer not found': 'Transfert de stock non trouvé',
        'At least one line is required': 'Au moins une ligne est requise',
        'Stock transfer created successfully': 'Transfert de stock créé avec succès',
        'Cannot create stock transfer: %(error)s': 'Impossible de créer le transfert de stock : %(error)s',
        'Stock transfer shipped successfully': 'Transfert de stock expédié avec succès',
        'Cannot ship stock transfer: %(error)s': 'Impossible d\'expédier le transfert de stock : %(error)s',
        'Stock transfer received successfully': 'Transfert de stock reçu avec succès',
        'Cannot receive stock transfer: %(error)s': 'Impossible de recevoir le transfert de stock : %(error)s',
        'Stock transfer cancelled successfully': 'Transfert de stock annulé avec succès',
        'Cannot cancel stock transfer: %(error)s': 'Impossible d\'annuler le transfert de stock : %(error)s',
        'Code and Name are required': 'Le code et le nom sont requis',
        'Category not found: {}': 'Catégorie non trouvée : {}',
        'At least one valid category is required': 'Au moins une catégorie valide est requise',
        'Failed to update product: {}': 'Échec de la mise à jour du produit : {}',
        'An error occurred: {}': 'Une erreur s\'est produite : {}',
        'Failed to save price list: {}': 'Échec de l\'enregistrement de la liste de prix : {}',
        'Failed to delete price list: {}': 'Échec de la suppression de la liste de prix : {}',
        'Invalid action': 'Action invalide',
        'Failed to save product: {}': 'Échec de l\'enregistrement du produit : {}',
        'Failed to remove product: {}': 'Échec du retrait du produit : {}',
        'Volume pricing tier updated successfully': 'Niveau de prix volume mis à jour avec succès',
        'Volume pricing tier created successfully': 'Niveau de prix volume créé avec succès',
        'Failed to save volume pricing tier: {}': 'Échec de l\'enregistrement du niveau de prix volume : {}',
        'Failed to delete volume pricing tier: {}': 'Échec de la suppression du niveau de prix volume : {}',
        'Promotional price updated successfully': 'Prix promotionnel mis à jour avec succès',
        'Promotional price created successfully': 'Prix promotionnel créé avec succès',
        'Failed to save promotional price: {}': 'Échec de l\'enregistrement du prix promotionnel : {}',
        'Promotional price deleted successfully': 'Prix promotionnel supprimé avec succès',
        'Failed to delete promotional price: {}': 'Échec de la suppression du prix promotionnel : {}',
        'Promotional price not found': 'Prix promotionnel non trouvé',
        'Product is required': 'Le produit est requis',
        'Failed to create promotional price: {}': 'Échec de la création du prix promotionnel : {}',
        'Failed to update promotional price: {}': 'Échec de la mise à jour du prix promotionnel : {}',
        'Supplier is required': 'Le fournisseur est requis',
        'Language changed successfully': 'Langue changée avec succès',
        'Cost': 'Coût',
        'Unit of Measure': 'Unité de mesure',
        'Barcode': 'Code-barres',
        'Categories': 'Catégories',
    },
    
    'ar': {
        # Module names and descriptions
        'Customers': 'العملاء',
        'Manage customer database and information': 'إدارة قاعدة بيانات العملاء والمعلومات',
        'Quotes': 'العروض',
        'Create and manage sales quotes': 'إنشاء وإدارة عروض البيع',
        'Orders': 'الطلبات',
        'Manage sales orders and fulfillment': 'إدارة طلبات البيع والتنفيذ',
        'Promotions': 'الترقيات',
        'Manage promotional campaigns and discounts': 'إدارة الحملات الترويجية والخصومات',
        'Invoices': 'الفواتير',
        'Generate and manage customer invoices': 'إنشاء وإدارة فواتير العملاء',
        'Payments': 'المدفوعات',
        'Record payments and manage collections': 'تسجيل المدفوعات وإدارة التحصيلات',
        'Payments Dashboard': 'لوحة تحكم المدفوعات',
        'View payment KPIs and aging reports': 'عرض مؤشرات الأداء الرئيسية للمدفوعات وتقارير التقادم',
        'Sales': 'المبيعات',
        'Manage your sales process from quotes to payments': 'إدارة عملية البيع من العروض إلى المدفوعات',
        'Suppliers': 'الموردون',
        'Manage supplier database and information': 'إدارة قاعدة بيانات الموردين والمعلومات',
        'Purchase Requests': 'طلبات الشراء',
        'Create and manage purchase requests': 'إنشاء وإدارة طلبات الشراء',
        'Purchase Orders': 'أوامر الشراء',
        'Manage purchase orders from suppliers': 'إدارة أوامر الشراء من الموردين',
        'Purchase Receipts': 'إيصالات الاستلام',
        'Record goods received from suppliers': 'تسجيل البضائع المستلمة من الموردين',
        'Supplier Invoices': 'فواتير الموردين',
        'Process and match supplier invoices': 'معالجة ومطابقة فواتير الموردين',
        'Purchases': 'المشتريات',
        'Manage your complete purchase cycle from requests to invoices': 'إدارة دورة الشراء الكاملة من الطلبات إلى الفواتير',
        'Stock Overview': 'نظرة عامة على المخزون',
        'View current stock levels and availability': 'عرض مستويات المخزون الحالية والتوفر',
        'Sites': 'المواقع',
        'Manage warehouse sites and locations': 'إدارة مواقع ومكانات المستودعات',
        'Warehouses': 'المستودعات',
        'Manage warehouse locations structure': 'إدارة هيكل مكانات المستودعات',
        'Stock Transfers': 'تحويلات المخزون',
        'Transfer stock between sites': 'نقل المخزون بين المواقع',
        'Stock Movements': 'حركات المخزون',
        'View and track stock movements history': 'عرض وتتبع تاريخ حركات المخزون',
        'Stock Alerts': 'تنبيهات المخزون',
        'Monitor low stock and reorder alerts': 'مراقبة تنبيهات المخزون المنخفض وإعادة الطلب',
        'Inventory': 'المخزون',
        'Manage stock levels, locations, and movements': 'إدارة مستويات المخزون والمكانات والحركات',
        'Products': 'المنتجات',
        'Manage product catalog and variants': 'إدارة كتالوج المنتجات والمتغيرات',
        'Price Lists': 'قوائم الأسعار',
        'Create and manage pricing lists': 'إنشاء وإدارة قوائم الأسعار',
        'Catalog': 'الكتالوج',
        'Manage your product catalog and pricing': 'إدارة كتالوج المنتجات والأسعار',
        'Dashboard': 'لوحة التحكم',
        'Modules': 'الوحدات',
        'Settings': 'الإعدادات',
        
        # Common UI elements
        'CommerceFlow': 'CommerceFlow',
        'Back to Modules': 'العودة إلى الوحدات',
        'SALES': 'المبيعات',
        'PURCHASES': 'المشتريات',
        'INVENTORY': 'المخزون',
        'Stock': 'المخزون',
        'Transfers': 'التحويلات',
        'Movements': 'الحركات',
        'Alerts': 'التنبيهات',
        'CATALOG': 'الكتالوج',
        
        # Auth
        'Login': 'تسجيل الدخول',
        'Commercial Management System': 'نظام إدارة تجارية',
        'Username': 'اسم المستخدم',
        'Enter your username': 'أدخل اسم المستخدم',
        'Password': 'كلمة المرور',
        'Remember me': 'تذكرني',
        'Forgot password?': 'نسيت كلمة المرور؟',
        'Sign in': 'تسجيل الدخول',
        'or': 'أو',
        'Continue with Microsoft': 'المتابعة مع Microsoft',
        'Version 1.0': 'الإصدار 1.0',
        
        # Billing - Add more as needed
        'Aging Report': 'تقرير التقادم',
        'Outstanding invoices by aging buckets': 'الفواتير المستحقة حسب فئات التقادم',
        'All Customers': 'جميع العملاء',
        'Include Paid': 'تضمين المدفوعة',
        'Generate Report': 'إنشاء تقرير',
        'Total Outstanding': 'إجمالي المستحقات',
        'days': 'أيام',
        'invoices': 'فواتير',
        'Invoice': 'فاتورة',
        'Due Date': 'تاريخ الاستحقاق',
        'Remaining': 'المتبقي',
        'Days Overdue': 'أيام التأخير',
        'No outstanding invoices found': 'لم يتم العثور على فواتير مستحقة',
        'Create Invoice': 'إنشاء فاتورة',
        'Create invoice from order': 'إنشاء فاتورة من طلب',
        'Order Information': 'معلومات الطلب',
        'Order Number': 'رقم الطلب',
        'Invoice Details': 'تفاصيل الفاتورة',
        'Invoice Date': 'تاريخ الفاتورة',
        'Document Discount (%)': 'خصم المستند (%)',
        'Invoice Lines': 'بنود الفاتورة',
        'Quantity Delivered': 'الكمية المسلمة',
        'Quantity Invoiced': 'الكمية المفوترة',
        'To Invoice': 'للفوترة',
        'Invoice details and management': 'تفاصيل وإدارة الفاتورة',
        'Send Email': 'إرسال بريد إلكتروني',
        'Order': 'طلب',
        'TVA': 'ضريبة القيمة المضافة',
        'Variant': 'متغير',
        'Paid': 'مدفوع',
        'Credit Notes': 'الإشعارات الائتمانية',
        'Back to list': 'العودة إلى القائمة',
        'Create Credit Note': 'إنشاء إشعار ائتماني',
        'Manage and track all invoices': 'إدارة وتتبع جميع الفواتير',
        'Validated': 'تم التحقق',
        'Partially Paid': 'مدفوع جزئياً',
        'Canceled': 'ملغي',
        'Search by number, customer...': 'البحث بالرقم، العميل...',
        'Export FEC': 'تصدير FEC',
        'No invoices found': 'لم يتم العثور على فواتير',
        'Overdue Invoices': 'الفواتير المتأخرة',
        'Track invoices that are past due date': 'تتبع الفواتير التي تجاوزت تاريخ الاستحقاق',
        'Minimum days overdue': 'الحد الأدنى لأيام التأخير',
        'No overdue invoices found': 'لم يتم العثور على فواتير متأخرة',
        'Create Payment': 'إنشاء دفعة',
        'Record a new customer payment': 'تسجيل دفعة عميل جديدة',
        'Payment Information': 'معلومات الدفعة',
        'Select Customer': 'اختر عميلاً',
        'Total Outstanding:': 'إجمالي المستحقات:',
        'Payment Method': 'طريقة الدفع',
        'Select Method': 'اختر طريقة',
        'Cash': 'نقد',
        'Check': 'شيك',
        'Bank Transfer': 'تحويل بنكي',
        'Credit Card': 'بطاقة ائتمان',
        'Debit Card': 'بطاقة خصم',
        'PayPal': 'PayPal',
        'Other': 'أخرى',
        'Payment Date': 'تاريخ الدفع',
        'Value Date': 'تاريخ القيمة',
        'Check number, transfer reference, etc.': 'رقم الشيك، مرجع التحويل، إلخ.',
        'Enable Automatic Allocation': 'تفعيل التخصيص التلقائي',
        'Allocation Strategy': 'استراتيجية التخصيص',
        'FIFO (First In First Out) - Pay oldest invoices first': 'FIFO (أولاً يدخل أولاً يخرج) - دفع أقدم الفواتير أولاً',
        'Proportional - Distribute proportionally to all unpaid invoices': 'نسبي - توزيع متناسب على جميع الفواتير غير المدفوعة',
        'The payment will be automatically allocated to unpaid invoices according to the selected strategy.': 'سيتم تخصيص الدفعة تلقائياً للفواتير غير المدفوعة وفقاً للاستراتيجية المختارة.',
        'Allocate to Invoices (Optional)': 'تخصيص للفواتير (اختياري)',
        'No overdue invoices available for allocation': 'لا توجد فواتير متأخرة متاحة للتخصيص',
        'Add Invoice Allocation': 'إضافة تخصيص فاتورة',
        'Select a customer...': 'اختر عميلاً...',
        'Select Invoice': 'اختر فاتورة',
        'days overdue': 'أيام تأخير',
        'Payment': 'دفعة',
        'Payment details and allocations': 'تفاصيل وتخصيصات الدفعة',
        'Reconciled': 'مطابق',
        'Confirm Payment': 'تأكيد الدفعة',
        'Back to List': 'العودة إلى القائمة',
        'Bank Reference': 'المرجع البنكي',
        'Total Allocated': 'إجمالي المخصص',
        'Unallocated Amount': 'المبلغ غير المخصص',
        'Invoice Allocations': 'تخصيصات الفواتير',
        'Add Allocation': 'إضافة تخصيص',
        'Invoice Number': 'رقم الفاتورة',
        'Allocated Amount': 'المبلغ المخصص',
        'No allocations yet': 'لا توجد تخصيصات بعد',
        'Allocate to Invoice': 'تخصيص للفاتورة',
        'Add Another Invoice': 'إضافة فاتورة أخرى',
        'Save Allocations': 'حفظ التخصيصات',
        'Outstanding payments overview and analytics': 'نظرة عامة وتحليلات المدفوعات المستحقة',
        
        # Success/Error messages - Add more as needed
        'Payment allocated successfully': 'تم تخصيص الدفعة بنجاح',
        'Bank account and statement date are required': 'حساب البنك وتاريخ الكشف مطلوبان',
        'Bank statement imported: %(matched)s matched, %(unmatched)s unmatched': 'تم استيراد كشف البنك: %(matched)s مطابقة، %(unmatched)s غير مطابقة',
        'Payment ID and bank reference are required': 'معرف الدفعة والمرجع البنكي مطلوبان',
        'Payment reconciled successfully': 'تم مطابقة الدفعة بنجاح',
        'Failed to update customer: {}': 'فشل تحديث العميل: {}',
        'Product not found': 'المنتج غير موجود',
        'Product created successfully': 'تم إنشاء المنتج بنجاح',
        'Failed to create product: {}': 'فشل إنشاء المنتج: {}',
        'Product updated successfully': 'تم تحديث المنتج بنجاح',
        'Product deleted successfully': 'تم حذف المنتج بنجاح',
        'Product archived successfully': 'تم أرشفة المنتج بنجاح',
        'Product activated successfully': 'تم تفعيل المنتج بنجاح',
        'Product deactivated successfully': 'تم إلغاء تفعيل المنتج بنجاح',
        'Category not found': 'الفئة غير موجودة',
        'Category created successfully': 'تم إنشاء الفئة بنجاح',
        'Failed to create category: {}': 'فشل إنشاء الفئة: {}',
        'Category updated successfully': 'تم تحديث الفئة بنجاح',
        'Unsupported file format. Please use CSV or Excel files.': 'تنسيق الملف غير مدعوم. يرجى استخدام ملفات CSV أو Excel.',
        'Variant created successfully': 'تم إنشاء المتغير بنجاح',
        'Failed to create variant: {}': 'فشل إنشاء المتغير: {}',
        'Variant not found': 'المتغير غير موجود',
        'Variant updated successfully': 'تم تحديث المتغير بنجاح',
        'Variant deleted successfully': 'تم حذف المتغير بنجاح',
        'Failed to delete variant: {}': 'فشل حذف المتغير: {}',
        'Variant archived successfully': 'تم أرشفة المتغير بنجاح',
        'Failed to archive variant: {}': 'فشل أرشفة المتغير: {}',
        'Variant activated successfully': 'تم تفعيل المتغير بنجاح',
        'Failed to activate variant: {}': 'فشل تفعيل المتغير: {}',
        'Request body is required': 'جسم الطلب مطلوب',
        'Price list created successfully': 'تم إنشاء قائمة الأسعار بنجاح',
        'Price list not found': 'قائمة الأسعار غير موجودة',
        'Price list updated successfully': 'تم تحديث قائمة الأسعار بنجاح',
        'Price list deleted successfully': 'تم حذف قائمة الأسعار بنجاح',
        'Volume pricing tier deleted successfully': 'تم حذف مستوى السعر الحجمي بنجاح',
        'product_id is required': 'product_id مطلوب',
        'price is required': 'السعر مطلوب',
        'Product added to price list successfully': 'تم إضافة المنتج إلى قائمة الأسعار بنجاح',
        'Product price updated successfully': 'تم تحديث سعر المنتج بنجاح',
        'Product removed from price list successfully': 'تم إزالة المنتج من قائمة الأسعار بنجاح',
        'Supplier not found': 'المورد غير موجود',
        'Supplier created successfully': 'تم إنشاء المورد بنجاح',
        'Failed to create supplier: {}': 'فشل إنشاء المورد: {}',
        'Supplier updated successfully': 'تم تحديث المورد بنجاح',
        'Supplier archived successfully': 'تم أرشفة المورد بنجاح',
        'Supplier activated successfully': 'تم تفعيل المورد بنجاح',
        'Supplier deactivated successfully': 'تم إلغاء تفعيل المورد بنجاح',
        'Purchase order not found': 'أمر الشراء غير موجود',
        'Authentication required': 'المصادقة مطلوبة',
        'Purchase order created successfully': 'تم إنشاء أمر الشراء بنجاح',
        'Failed to create purchase order: {}': 'فشل إنشاء أمر الشراء: {}',
        'Purchase order updated successfully': 'تم تحديث أمر الشراء بنجاح',
        'Purchase order confirmed successfully': 'تم تأكيد أمر الشراء بنجاح',
        'Failed to confirm purchase order: {}': 'فشل تأكيد أمر الشراء: {}',
        'Purchase order cancelled successfully': 'تم إلغاء أمر الشراء بنجاح',
        'Failed to cancel purchase order: {}': 'فشل إلغاء أمر الشراء: {}',
        'Line added successfully': 'تم إضافة السطر بنجاح',
        'Failed to add line: {}': 'فشل إضافة السطر: {}',
        'Line updated successfully': 'تم تحديث السطر بنجاح',
        'Failed to update line: {}': 'فشل تحديث السطر: {}',
        'Line removed successfully': 'تم إزالة السطر بنجاح',
        'Failed to remove line: {}': 'فشل إزالة السطر: {}',
        'Quote not found': 'العرض غير موجود',
        'Invalid request parameters: %(error)s': 'معاملات الطلب غير صالحة: %(error)s',
        'Invalid request: %(error)s': 'طلب غير صالح: %(error)s',
        'Customer ID is required': 'معرف العميل مطلوب',
        'Resource not found: %(error)s': 'الموارد غير موجودة: %(error)s',
        'Invalid operation: %(error)s': 'عملية غير صالحة: %(error)s',
        'product_id and customer_id are required': 'product_id و customer_id مطلوبان',
        'Order not found': 'الطلب غير موجود',
        'Status is required': 'الحالة مطلوبة',
        'Order or line not found': 'الطلب أو السطر غير موجود',
        'An error occurred while retrieving stock levels: %(error)s': 'حدث خطأ أثناء استرداد مستويات المخزون: %(error)s',
        'Stock item not found': 'عنصر المخزون غير موجود',
        'An error occurred while retrieving stock item: %(error)s': 'حدث خطأ أثناء استرداد عنصر المخزون: %(error)s',
        'An error occurred while retrieving stock alerts: %(error)s': 'حدث خطأ أثناء استرداد تنبيهات المخزون: %(error)s',
        'An error occurred while retrieving stock movements: %(error)s': 'حدث خطأ أثناء استرداد حركات المخزون: %(error)s',
        'Authentication required. Please log in to perform this action.': 'المصادقة مطلوبة. يرجى تسجيل الدخول لتنفيذ هذا الإجراء.',
        'Stock movement created successfully': 'تم إنشاء حركة المخزون بنجاح',
        'Insufficient stock: %(error)s': 'مخزون غير كاف: %(error)s',
        'An error occurred while creating stock movement: %(error)s': 'حدث خطأ أثناء إنشاء حركة المخزون: %(error)s',
        'An error occurred while retrieving locations: %(error)s': 'حدث خطأ أثناء استرداد المواقع: %(error)s',
        'Location not found': 'الموقع غير موجود',
        'An error occurred while retrieving location: %(error)s': 'حدث خطأ أثناء استرداد الموقع: %(error)s',
        'A location with this code already exists': 'موقع بهذا الرمز موجود بالفعل',
        'Parent location not found': 'الموقع الأب غير موجود',
        'An error occurred while creating location: %(error)s': 'حدث خطأ أثناء إنشاء الموقع: %(error)s',
        'An error occurred while updating location: %(error)s': 'حدث خطأ أثناء تحديث الموقع: %(error)s',
        'Stock reserved successfully': 'تم حجز المخزون بنجاح',
        'Insufficient available stock: %(error)s': 'مخزون متاح غير كاف: %(error)s',
        'An error occurred while reserving stock: %(error)s': 'حدث خطأ أثناء حجز المخزون: %(error)s',
        'Stock released successfully': 'تم إطلاق المخزون بنجاح',
        'An error occurred while releasing stock: %(error)s': 'حدث خطأ أثناء إطلاق المخزون: %(error)s',
        'Stock adjusted successfully': 'تم تعديل المخزون بنجاح',
        'Invalid adjustment: %(error)s': 'تعديل غير صالح: %(error)s',
        'An error occurred while adjusting stock: %(error)s': 'حدث خطأ أثناء تعديل المخزون: %(error)s',
        'Username and password are required': 'اسم المستخدم وكلمة المرور مطلوبان',
        'User not found': 'المستخدم غير موجود',
        'Login failed. Please try again.': 'فشل تسجيل الدخول. يرجى المحاولة مرة أخرى.',
        'You have been logged out successfully': 'تم تسجيل الخروج بنجاح',
        'Order ID is required': 'معرف الطلب مطلوب',
        'Order must be delivered before creating invoice': 'يجب تسليم الطلب قبل إنشاء الفاتورة',
        'An invoice already exists for this order: %(number)s': 'فاتورة موجودة بالفعل لهذا الطلب: %(number)s',
        'Invoice created successfully': 'تم إنشاء الفاتورة بنجاح',
        'Invoice validated successfully': 'تم التحقق من الفاتورة بنجاح',
        'Customer email not found': 'البريد الإلكتروني للعميل غير موجود',
        'Invoice sent successfully': 'تم إرسال الفاتورة بنجاح',
        'Failed to send invoice email': 'فشل إرسال بريد الفاتورة الإلكتروني',
        'Reason is required for credit note': 'السبب مطلوب للإشعار الائتماني',
        'Credit note amount must be greater than 0': 'يجب أن يكون مبلغ الإشعار الائتماني أكبر من 0',
        'Credit note created successfully': 'تم إنشاء الإشعار الائتماني بنجاح',
        'Payment created successfully': 'تم إنشاء الدفعة بنجاح',
        'Payment confirmed successfully': 'تم تأكيد الدفعة بنجاح',
        'No valid allocations provided': 'لم يتم توفير تخصيصات صالحة',
        'Failed to create purchase order: handler returned None': 'فشل إنشاء أمر الشراء: عاد المعالج بـ None',
        'Failed to create purchase order: no ID returned': 'فشل إنشاء أمر الشراء: لم يتم إرجاع معرف',
        'Cannot create purchase order: %(error)s': 'لا يمكن إنشاء أمر الشراء: %(error)s',
        'Cannot update purchase order: %(error)s': 'لا يمكن تحديث أمر الشراء: %(error)s',
        'Cannot confirm purchase order: %(error)s': 'لا يمكن تأكيد أمر الشراء: %(error)s',
        'Cannot cancel purchase order: %(error)s': 'لا يمكن إلغاء أمر الشراء: %(error)s',
        'Purchase request created successfully': 'تم إنشاء طلب الشراء بنجاح',
        'Purchase request not found': 'طلب الشراء غير موجود',
        'Purchase request submitted for approval': 'تم إرسال طلب الشراء للموافقة',
        'Purchase request approved': 'تمت الموافقة على طلب الشراء',
        'Rejection reason is required': 'سبب الرفض مطلوب',
        'Purchase request rejected': 'تم رفض طلب الشراء',
        'Purchase request converted to purchase order': 'تم تحويل طلب الشراء إلى أمر شراء',
        'Purchase order is required': 'أمر الشراء مطلوب',
        'Purchase receipt created successfully': 'تم إنشاء إيصال الاستلام بنجاح',
        'Cannot create receipt for purchase order in status "%(status)s". Order must be confirmed, sent, or partially received.': 'لا يمكن إنشاء إيصال استلام لأمر الشراء بالحالة "%(status)s". يجب أن يكون الطلب مؤكداً أو مرسلاً أو مستلماً جزئياً.',
        'Purchase receipt validated. Stock has been updated.': 'تم التحقق من إيصال الاستلام. تم تحديث المخزون.',
        'Can only create invoice from validated receipts': 'يمكن إنشاء الفاتورة فقط من إيصالات الاستلام المصدقة',
        'Invoice number is required': 'رقم الفاتورة مطلوب',
        'Failed to create supplier invoice. Please try again.': 'فشل إنشاء فاتورة المورد. يرجى المحاولة مرة أخرى.',
        'Supplier invoice created and matched successfully with PO and receipt': 'تم إنشاء فاتورة المورد ومطابقتها بنجاح مع أمر الشراء وإيصال الاستلام',
        'Invalid invoice date': 'تاريخ الفاتورة غير صالح',
        'Supplier invoice not found': 'فاتورة المورد غير موجودة',
        'Invoice matched successfully with PO and receipt': 'تمت مطابقة الفاتورة بنجاح مع أمر الشراء وإيصال الاستلام',
        'Invoice partially matched. Please review discrepancies.': 'تمت مطابقة الفاتورة جزئياً. يرجى مراجعة التناقضات.',
        'Invoice matching completed with warnings': 'اكتملت مطابقة الفاتورة مع تحذيرات',
        'Only draft quotes can be edited. Creating a new version...': 'يمكن تعديل العروض المسودة فقط. إنشاء إصدار جديد...',
        'Quote updated successfully': 'تم تحديث العرض بنجاح',
        'Quote created successfully': 'تم إنشاء العرض بنجاح',
        'Quote sent successfully': 'تم إرسال العرض بنجاح',
        'Quote accepted successfully': 'تم قبول العرض بنجاح',
        'Quote rejected': 'تم رفض العرض',
        'Quote deleted successfully': 'تم حذف العرض بنجاح',
        'Quote must be accepted before creating an order': 'يجب قبول العرض قبل إنشاء طلب',
        'Error generating PDF: %(error)s': 'خطأ في إنشاء PDF: %(error)s',
        'Only draft orders can be edited': 'يمكن تعديل الطلبات المسودة فقط',
        'Order updated successfully': 'تم تحديث الطلب بنجاح',
        'Customer is required': 'العميل مطلوب',
        'Order created successfully': 'تم إنشاء الطلب بنجاح',
        'Only draft orders can be confirmed. Current status: %(status)s': 'يمكن تأكيد الطلبات المسودة فقط. الحالة الحالية: %(status)s',
        'Cannot confirm order without lines. Please add at least one line to the order.': 'لا يمكن تأكيد الطلب بدون أسطر. يرجى إضافة سطر واحد على الأقل للطلب.',
        'Order confirmed successfully. Stock has been reserved.': 'تم تأكيد الطلب بنجاح. تم حجز المخزون.',
        'An error occurred while confirming the order: %(error)s': 'حدث خطأ أثناء تأكيد الطلب: %(error)s',
        'Order canceled successfully. Reserved stock has been released.': 'تم إلغاء الطلب بنجاح. تم إطلاق المخزون المحجوز.',
        'Order status updated successfully': 'تم تحديث حالة الطلب بنجاح',
        'Company settings updated successfully': 'تم تحديث إعدادات الشركة بنجاح',
        'Application settings updated successfully': 'تم تحديث إعدادات التطبيق بنجاح',
        'Cannot delete location with child locations': 'لا يمكن حذف الموقع مع المواقع الفرعية',
        'Cannot delete location with stock items': 'لا يمكن حذف الموقع مع عناصر المخزون',
        'Location deleted successfully': 'تم حذف الموقع بنجاح',
        'Site not found': 'الموقع غير موجود',
        'Site created successfully': 'تم إنشاء الموقع بنجاح',
        'Cannot create site: %(error)s': 'لا يمكن إنشاء الموقع: %(error)s',
        'Site updated successfully': 'تم تحديث الموقع بنجاح',
        'Cannot update site: %(error)s': 'لا يمكن تحديث الموقع: %(error)s',
        'Site deactivated successfully': 'تم إلغاء تفعيل الموقع بنجاح',
        'Cannot deactivate site: %(error)s': 'لا يمكن إلغاء تفعيل الموقع: %(error)s',
        'Stock transfer not found': 'تحويل المخزون غير موجود',
        'At least one line is required': 'سطر واحد على الأقل مطلوب',
        'Stock transfer created successfully': 'تم إنشاء تحويل المخزون بنجاح',
        'Cannot create stock transfer: %(error)s': 'لا يمكن إنشاء تحويل المخزون: %(error)s',
        'Stock transfer shipped successfully': 'تم شحن تحويل المخزون بنجاح',
        'Cannot ship stock transfer: %(error)s': 'لا يمكن شحن تحويل المخزون: %(error)s',
        'Stock transfer received successfully': 'تم استلام تحويل المخزون بنجاح',
        'Cannot receive stock transfer: %(error)s': 'لا يمكن استلام تحويل المخزون: %(error)s',
        'Stock transfer cancelled successfully': 'تم إلغاء تحويل المخزون بنجاح',
        'Cannot cancel stock transfer: %(error)s': 'لا يمكن إلغاء تحويل المخزون: %(error)s',
        'Code and Name are required': 'الرمز والاسم مطلوبان',
        'Category not found: {}': 'الفئة غير موجودة: {}',
        'At least one valid category is required': 'فئة واحدة صالحة على الأقل مطلوبة',
        'Failed to update product: {}': 'فشل تحديث المنتج: {}',
        'An error occurred: {}': 'حدث خطأ: {}',
        'Failed to save price list: {}': 'فشل حفظ قائمة الأسعار: {}',
        'Failed to delete price list: {}': 'فشل حذف قائمة الأسعار: {}',
        'Invalid action': 'إجراء غير صالح',
        'Failed to save product: {}': 'فشل حفظ المنتج: {}',
        'Failed to remove product: {}': 'فشل إزالة المنتج: {}',
        'Volume pricing tier updated successfully': 'تم تحديث مستوى السعر الحجمي بنجاح',
        'Volume pricing tier created successfully': 'تم إنشاء مستوى السعر الحجمي بنجاح',
        'Failed to save volume pricing tier: {}': 'فشل حفظ مستوى السعر الحجمي: {}',
        'Failed to delete volume pricing tier: {}': 'فشل حذف مستوى السعر الحجمي: {}',
        'Promotional price updated successfully': 'تم تحديث السعر الترويجي بنجاح',
        'Promotional price created successfully': 'تم إنشاء السعر الترويجي بنجاح',
        'Failed to save promotional price: {}': 'فشل حفظ السعر الترويجي: {}',
        'Promotional price deleted successfully': 'تم حذف السعر الترويجي بنجاح',
        'Failed to delete promotional price: {}': 'فشل حذف السعر الترويجي: {}',
        'Promotional price not found': 'السعر الترويجي غير موجود',
        'Product is required': 'المنتج مطلوب',
        'Failed to create promotional price: {}': 'فشل إنشاء السعر الترويجي: {}',
        'Failed to update promotional price: {}': 'فشل تحديث السعر الترويجي: {}',
        'Supplier is required': 'المورد مطلوب',
        'Language changed successfully': 'تم تغيير اللغة بنجاح',
        'Cost': 'التكلفة',
        'Unit of Measure': 'وحدة القياس',
        'Barcode': 'الرمز الشريطي',
        'Categories': 'الفئات',
    }
}

def fill_po_file_robust(po_file_path, translations_dict, lang_code):
    """Fill a .po file with translations using babel.messages.pofile."""
    po_file = Path(po_file_path)
    if not po_file.exists():
        print(f"[ERROR] File not found: {po_file_path}")
        return 0
    
    # Read the .po file
    with open(po_file, 'rb') as f:
        catalog = read_po(f)
    
    filled_count = 0
    for message in catalog:
        # Check if this message has an empty translation
        if message.string == '' and message.id:
            # Check if we have a translation for this msgid
            if message.id in translations_dict:
                message.string = translations_dict[message.id]
                filled_count += 1
    
    # Write the updated catalog back to the file
    with open(po_file, 'wb') as f:
        write_po(f, catalog)
    
    return filled_count

def main():
    print("============================================================")
    print("CommerceFlow - Robust Translation Fill (FR, AR)")
    print("============================================================")
    
    project_root = Path(__file__).parent.parent
    translations_dir = project_root / 'app' / 'translations'
    
    # Fill French and Arabic translations
    for lang in ['fr', 'ar']:
        po_file = translations_dir / lang / 'LC_MESSAGES' / 'messages.po'
        if po_file.exists():
            print(f"\n[{lang.upper()}] Filling ALL missing translations...")
            count = fill_po_file_robust(po_file, COMPLETE_TRANSLATIONS[lang], lang)
            print(f"  [OK] Filled {count} translations")
        else:
            print(f"\n[{lang.upper()}] [ERROR] File not found: {po_file}")
    
    print("\n============================================================")
    print("[OK] Robust translation filling finished!")
    print("\nNext step: Run 'pybabel compile -d app/translations' to compile")
    print("============================================================")

if __name__ == '__main__':
    main()

